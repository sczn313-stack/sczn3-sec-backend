mport express from "express"; import cors from "cors"; import multer from "multer"; const app = express(); const PORT = process.env.PORT || 10000; app.use(cors({ origin: true })); app.use(express.json()); // memory upload (no disk needed) const upload = multer({ storage: multer.memoryStorage() }); app.get("/", (req, res) => { res.json({ status: "ok", service: "SCZN3 backend" }); }); app.get("/health", (req, res) => { res.json({ ok: true }); }); app.post("/api/upload", upload.single("image"), (req, res) => { if (!req.file) { return res.status(400).json({ ok: false, error: "No file uploaded" }); } return res.json({ ok: true, message: "Image received", filename: req.file.originalname, mimetype: req.file.mimetype, size: req.file.size, }); }); app.listen(PORT, "0.0.0.0", () => { console.log(`SCZN3 backend listening on port ${PORT}`); });
